<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Senior FinTech - Ultimate Edition</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600;700&display=swap" rel="stylesheet">
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        :root {
            --bg-color: #0F0F12;
            --card-bg: #1D1B20;
            --primary: #6C63FF;
            --primary-dark: #3B3398;
            --accent: #00D09E;
            --text-main: #FFFFFF;
            --text-dim: #A0A0A5;
            --danger: #FF5252;
            --warning: #FFAB00;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Outfit', sans-serif;
        }

        body {
            background-color: #1a1a1a;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            padding: 20px;
        }

        /* Mobile Frame Simulator */
        .mobile-frame {
            width: 375px;
            height: 812px;
            background-color: var(--bg-color);
            border-radius: 40px;
            border: 8px solid #333;
            overflow: hidden;
            position: relative;
            box-shadow: 0 50px 100px rgba(0, 0, 0, 0.8);
            display: flex;
            flex-direction: column;
        }

        .content {
            flex: 1;
            padding: 24px;
            overflow-y: auto;
            scrollbar-width: none;
            position: relative;
        }

        .content::-webkit-scrollbar {
            display: none;
        }

        header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 32px;
        }

        .user-info h4 {
            color: var(--text-dim);
            font-weight: 400;
            font-size: 14px;
        }

        .user-info h2 {
            color: var(--text-main);
            font-size: 24px;
            font-weight: 700;
        }

        .profile-pic {
            width: 48px;
            height: 48px;
            background: var(--card-bg);
            border-radius: 16px;
            display: flex;
            justify-content: center;
            align-items: center;
            color: white;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        /* Balance Card */
        .balance-card {
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            border-radius: 32px;
            padding: 24px;
            margin-bottom: 32px;
            position: relative;
            overflow: hidden;
            box-shadow: 0 20px 40px rgba(108, 99, 255, 0.3);
        }

        .balance-amount {
            color: white;
            font-size: 32px;
            font-weight: 700;
            margin-bottom: 24px;
        }

        /* Screens */
        .screen {
            display: none;
            height: 100%;
            flex-direction: column;
        }

        .screen.active {
            display: flex;
        }

        /* FAB */
        .fab {
            position: absolute;
            bottom: 85px;
            right: 24px;
            width: 56px;
            height: 56px;
            background: var(--primary);
            border-radius: 20px;
            display: flex;
            justify-content: center;
            align-items: center;
            color: white;
            box-shadow: 0 10px 20px rgba(108, 99, 255, 0.4);
            cursor: pointer;
            z-index: 10;
            transition: transform 0.2s;
        }

        .fab:active {
            transform: scale(0.9);
        }

        /* Progress Bars (Budgets) */
        .budget-card {
            background: var(--card-bg);
            border-radius: 24px;
            padding: 20px;
            margin-bottom: 16px;
            border: 1px solid rgba(255, 255, 255, 0.05);
        }

        .progress-container {
            height: 8px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 4px;
            margin: 12px 0;
            overflow: hidden;
        }

        .progress-bar {
            height: 100%;
            border-radius: 4px;
        }

        /* Overlay Systems */
        .overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: none;
            z-index: 1000;
        }

        .overlay.active {
            display: flex;
        }

        /* Onboarding */
        #onboarding-overlay {
            background: var(--bg-color);
            flex-direction: column;
            justify-content: center;
            padding: 40px;
            text-align: center;
        }

        .step-indicator {
            display: flex;
            justify-content: center;
            gap: 8px;
            margin-bottom: 40px;
        }

        .dot {
            width: 8px;
            height: 8px;
            background: #333;
            border-radius: 50%;
        }

        .dot.active {
            width: 24px;
            background: var(--primary);
            border-radius: 4px;
        }

        /* Biometric Lock */
        #lock-overlay {
            background: rgba(15, 15, 18, 0.95);
            backdrop-filter: blur(10px);
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }

        /* Bottom Nav */
        nav {
            background: var(--bg-color);
            padding: 16px 32px;
            display: flex;
            justify-content: space-between;
            border-top: 1px solid rgba(255, 255, 255, 0.05);
        }

        .nav-item {
            color: var(--text-dim);
            display: flex;
            flex-direction: column;
            align-items: center;
            cursor: pointer;
        }

        .nav-item.active {
            color: var(--primary);
        }

        /* Common Components */
        .bank-card {
            background: var(--card-bg);
            border-radius: 20px;
            padding: 16px;
            margin-bottom: 12px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            cursor: pointer;
        }

        .transaction-item {
            display: flex;
            align-items: center;
            gap: 16px;
            margin-bottom: 16px;
        }

        .tx-icon {
            width: 44px;
            height: 44px;
            background: #252329;
            border-radius: 12px;
            display: flex;
            justify-content: center;
            align-items: center;
            color: var(--text-dim);
        }

        .tx-amount.negative {
            color: var(--danger);
        }

        .tx-amount.positive {
            color: var(--accent);
        }

        /* Modal Styles */
        .modal-sheet {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            background: var(--card-bg);
            border-radius: 32px 32px 0 0;
            padding: 32px 24px;
            z-index: 2000;
            transform: translateY(100%);
            transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 -20px 40px rgba(0, 0, 0, 0.5);
        }

        .modal-sheet.active {
            transform: translateY(0);
        }

        .modal-backdrop {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.6);
            display: none;
            z-index: 1500;
        }

        .modal-backdrop.active {
            display: block;
        }
    </style>
</head>

<body>
    <div class="mobile-frame">
        <!-- 1. BIOMETRIC LOCK OVERLAY -->
        <div id="lock-overlay" class="overlay">
            <div style="background: rgba(108, 99, 255, 0.1); padding: 30px; border-radius: 40px; margin-bottom: 40px;">
                <i data-lucide="fingerprint" style="width: 80px; height: 80px; color: var(--primary)"></i>
            </div>
            <h2 style="color: white; margin-bottom: 8px">Acesso Seguro</h2>
            <p style="color: var(--text-dim); text-align: center; padding: 0 40px; margin-bottom: 40px">Use sua
                biometria para desbloquear suas finan√ßas.</p>
            <button onclick="unlockApp()"
                style="background: var(--primary); color: white; border: none; padding: 16px 40px; border-radius: 20px; font-weight: 700; cursor: pointer">Autenticar</button>
        </div>

        <!-- 2. ONBOARDING OVERLAY -->
        <div id="onboarding-overlay" class="overlay">
            <div style="margin-bottom: 40px;">
                <i data-lucide="shield-check" style="width: 120px; height: 120px; color: var(--accent)"></i>
            </div>
            <h1 style="color: white; font-size: 28px; margin-bottom: 16px">Seu Banco, Suas Regras.</h1>
            <p style="color: var(--text-dim); margin-bottom: 40px; line-height: 1.6">Integramos suas contas via Open
                Finance Brasil com criptografia de ponta e sem acesso √†s suas senhas banc√°rias.</p>
            <div class="step-indicator">
                <div class="dot active"></div>
                <div class="dot"></div>
                <div class="dot"></div>
            </div>
            <button onclick="finishOnboarding()"
                style="width: 100%; background: white; color: black; border: none; padding: 20px; border-radius: 24px; font-weight: 700; font-size: 18px; cursor: pointer">Come√ßar
                Agora</button>
        </div>

        <!-- 3. MAIN CONTENT -->
        <div class="content">
            <!-- DASHBOARD -->
            <div id="screen-home" class="screen active">
                <header>
                    <div class="user-info">
                        <h4>Ol√°, Eldo</h4>
                        <h2>Dashboard</h2>
                    </div>
                    <div class="profile-pic"><i data-lucide="user"></i></div>
                </header>
                <div class="balance-card">
                    <div
                        style="display: flex; justify-content: space-between; color: rgba(255,255,255,0.7); margin-bottom: 8px">
                        <span>Saldo Consolidado</span><i data-lucide="eye" style="width: 18px"></i>
                    </div>
                    <div class="balance-amount" id="val-balance">R$ 12.450,80</div>
                    <div style="display: flex; gap: 20px;">
                        <div><span style="font-size: 10px; opacity: 0.7">Receitas</span><br><strong>R$ 15.000</strong>
                        </div>
                        <div><span style="font-size: 10px; opacity: 0.7">Despesas</span><br><strong>R$ 2.549</strong>
                        </div>
                    </div>
                </div>
                <section>
                    <h3 style="color: white; margin-bottom: 16px">Transa√ß√µes Recentes</h3>
                    <div id="tx-list">
                        <div class="transaction-item">
                            <div class="tx-icon"><i data-lucide="shopping-bag"></i></div>
                            <div style="flex: 1">
                                <h5 style="color: white">Netflix</h5><span
                                    style="color: var(--text-dim); font-size: 12px">Lazer ‚Ä¢ Hoje</span>
                            </div>
                            <div class="tx-amount negative">- R$ 55,90</div>
                        </div>
                    </div>
                </section>
            </div>

            <!-- STATS & BUDGETS -->
            <div id="screen-stats" class="screen">
                <header>
                    <div class="user-info">
                        <h4>Planejamento</h4>
                        <h2>Metas & Budgets</h2>
                    </div>
                </header>
                <section>
                    <h3 style="color: white; margin-bottom: 16px">Or√ßamentos Mensais</h3>
                    <div class="budget-card">
                        <div style="display: flex; justify-content: space-between; color: white">
                            <span>üçî Alimenta√ß√£o</span><span>R$ 850 / R$ 1.200</span>
                        </div>
                        <div class="progress-container">
                            <div class="progress-bar" style="width: 70%; background: var(--accent)"></div>
                        </div>
                        <p style="color: var(--text-dim); font-size: 11px">Voc√™ ainda tem R$ 350 para este m√™s.</p>
                    </div>
                    <div class="budget-card" style="border-color: var(--warning)">
                        <div style="display: flex; justify-content: space-between; color: white">
                            <span>üöó Transporte</span><span>R$ 480 / R$ 500</span>
                        </div>
                        <div class="progress-container">
                            <div class="progress-bar" style="width: 96%; background: var(--warning)"></div>
                        </div>
                        <p style="color: var(--warning); font-size: 11px">Aten√ß√£o! Restam apenas R$ 20.</p>
                    </div>
                </section>
            </div>

            <!-- WALLET & CONSENT -->
            <div id="screen-wallet" class="screen">
                <header>
                    <div class="user-info">
                        <h4>Open Finance</h4>
                        <h2>Minhas Contas</h2>
                    </div>
                </header>
                <div id="bank-list">
                    <div class="bank-card" onclick="showConsent('Nubank')">
                        <div style="display: flex; align-items: center; gap: 12px">
                            <div
                                style="width: 40px; height: 40px; background: #7A17EB; border-radius: 12px; display: flex; justify-content: center; align-items: center; color: white">
                                N</div>
                            <div>
                                <h5 style="color: white">Nubank</h5><span
                                    style="color: var(--accent); font-size: 10px">Conectado ‚Ä¢ Sinc h√° 2m</span>
                            </div>
                        </div>
                        <div style="text-align: right">
                            <div style="color: white; font-weight: 600">R$ 5.450,80</div><i data-lucide="chevron-right"
                                style="color: var(--text-dim); width: 14px"></i>
                        </div>
                    </div>
                </div>
                <button onclick="openNewBankModal()"
                    style="width: 100%; padding: 16px; border-radius: 16px; border: 1px dashed #444; background: transparent; color: var(--text-dim); font-weight: 600; margin-top: 16px; cursor: pointer">+
                    Conectar novo banco</button>
            </div>

            <!-- SETTINGS -->
            <div id="screen-settings" class="screen">
                <header>
                    <div class="user-info">
                        <h4>App</h4>
                        <h2>Configura√ß√µes</h2>
                    </div>
                </header>
                <div class="budget-card">
                    <div style="display: flex; justify-content: space-between; align-items: center; color: white">
                        <div style="display: flex; align-items: center; gap: 12px"><i
                                data-lucide="bell"></i>Notifica√ß√µes Push</div>
                        <div
                            style="width: 40px; height: 20px; background: var(--primary); border-radius: 10px; position: relative;">
                            <div
                                style="width: 16px; height: 16px; background: white; border-radius: 50%; position: absolute; right: 2px; top: 2px">
                            </div>
                        </div>
                    </div>
                </div>
                <button onclick="lockApp()"
                    style="width: 100%; padding: 16px; border-radius: 16px; background: #252329; color: var(--danger); border: none; font-weight: 600; margin-top: 16px; cursor: pointer">Bloquear
                    App</button>
            </div>

            <!-- FLOATING ACTION BUTTON -->
            <div class="fab" onclick="openManualEntry()">
                <i data-lucide="plus"></i>
            </div>
        </div>

        <nav>
            <div class="nav-item active" onclick="switchTab('home', this)"><i data-lucide="grid"></i></div>
            <div class="nav-item" onclick="switchTab('stats', this)"><i data-lucide="pie-chart"></i></div>
            <div class="nav-item" onclick="switchTab('wallet', this)"><i data-lucide="wallet"></i></div>
            <div class="nav-item" onclick="switchTab('settings', this)"><i data-lucide="settings"></i></div>
        </nav>

        <!-- MODAL SYSTEM -->
        <div id="modal-backdrop" class="modal-backdrop" onclick="closeModals()"></div>

        <!-- MANUAL ENTRY MODAL -->
        <div id="modal-manual" class="modal-sheet">
            <h3 style="color: white; margin-bottom: 24px">Novo Lan√ßamento</h3>
            <div style="margin-bottom: 20px">
                <label style="color: var(--text-dim); font-size: 12px">Valor</label>
                <input type="text" placeholder="R$ 0,00"
                    style="width: 100%; background: #252329; border: none; padding: 16px; border-radius: 12px; color: white; font-size: 24px; font-weight: 700; margin-top: 8px">
            </div>
            <div style="margin-bottom: 20px">
                <label style="color: var(--text-dim); font-size: 12px">Descri√ß√£o</label>
                <input type="text" placeholder="Ex: Padaria, Aluguel..."
                    style="width: 100%; background: #252329; border: none; padding: 16px; border-radius: 12px; color: white; margin-top: 8px">
            </div>
            <button onclick="saveManualEntry()"
                style="width: 100%; background: var(--primary); color: white; border: none; padding: 18px; border-radius: 16px; font-weight: 700; font-size: 16px; cursor: pointer">Salvar
                Lan√ßamento</button>
        </div>

        <!-- CONSENT MANAGEMENT MODAL -->
        <div id="modal-consent" class="modal-sheet">
            <div style="display: flex; align-items: center; gap: 12px; margin-bottom: 24px">
                <div id="consent-logo"
                    style="width: 48px; height: 48px; border-radius: 14px; display: flex; justify-content: center; align-items: center; color: white; font-weight: 700">
                </div>
                <h3 id="consent-bank-name" style="color: white"></h3>
            </div>
            <div style="background: rgba(0,208,158,0.1); padding: 16px; border-radius: 16px; margin-bottom: 24px">
                <p style="color: var(--accent); font-size: 12px">Consentimento ativo at√© 12/12/2026</p>
            </div>
            <h5 style="color: white; margin-bottom: 12px">Dados Compartilhados:</h5>
            <ul style="color: var(--text-dim); font-size: 13px; list-style: none; margin-bottom: 32px">
                <li style="margin-bottom: 8px"><i data-lucide="check"
                        style="width: 14px; color: var(--accent); vertical-align: middle; margin-right: 8px"></i>Saldo
                    de Contas</li>
                <li style="margin-bottom: 8px"><i data-lucide="check"
                        style="width: 14px; color: var(--accent); vertical-align: middle; margin-right: 8px"></i>Extrato
                    (√∫ltimos 12 meses)</li>
                <li style="margin-bottom: 8px"><i data-lucide="check"
                        style="width: 14px; color: var(--accent); vertical-align: middle; margin-right: 8px"></i>Limite
                    de Cart√£o de Cr√©dito</li>
            </ul>
            <button onclick="revokeConsent()"
                style="width: 100%; background: rgba(255,82,82,0.1); color: var(--danger); border: 1px solid var(--danger); padding: 16px; border-radius: 16px; font-weight: 600; cursor: pointer">Revogar
                Consentimento</button>
        </div>

    </div>

    <script>
        lucide.createIcons();

        // 1. NAVIGATION SYSTEM
        function switchTab(id, el) {
            document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
            document.getElementById('screen-' + id).classList.add('active');
            document.querySelectorAll('.nav-item').forEach(n => n.classList.remove('active'));
            el.classList.add('active');

            // Auto-lock simulator
            if (id === 'settings') { /* no auto lock */ }
        }

        // 2. OVERLAY SYSTEM
        function unlockApp() { document.getElementById('lock-overlay').classList.remove('active'); }
        function lockApp() { document.getElementById('lock-overlay').classList.add('active'); }
        function finishOnboarding() { document.getElementById('onboarding-overlay').classList.remove('active'); }

        // Start Logic
        window.onload = () => {
            document.getElementById('onboarding-overlay').classList.add('active');
            // lockApp(); // Uncomment for immediate lock after onboarding
        };

        // 3. MODAL LOGIC
        function openManualEntry() {
            document.getElementById('modal-backdrop').classList.add('active');
            document.getElementById('modal-manual').classList.add('active');
        }

        function showConsent(bank) {
            document.getElementById('modal-backdrop').classList.add('active');
            document.getElementById('modal-consent').classList.add('active');
            document.getElementById('consent-bank-name').innerText = bank;
            document.getElementById('consent-logo').style.background = (bank === 'Nubank') ? '#7A17EB' : '#EC7000';
            document.getElementById('consent-logo').innerText = bank[0];
        }

        function closeModals() {
            document.querySelectorAll('.modal-sheet, .modal-backdrop').forEach(m => m.classList.remove('active'));
        }

        function saveManualEntry() {
            alert('Lan√ßamento manual salvo com sucesso!');
            closeModals();
        }

        function revokeConsent() {
            if (confirm('Tem certeza que deseja revogar o acesso? Seus dados deste banco deixar√£o de ser atualizados.')) {
                alert('Consentimento revogado junto ao BACEN.');
                closeModals();
            }
        }

        function openNewBankModal() {
            document.getElementById('modal-backdrop').classList.add('active');
            // Reutilizando o sistema de modal para sele√ß√£o de banco
            const modal = document.getElementById('modal-manual');
            modal.innerHTML = `
                <h3 style="color: white; margin-bottom: 24px">Conectar Novo Banco</h3>
                <div class="bank-card" onclick="startSync('Bradesco', '#CC092F')">
                    <div style="display: flex; align-items: center; gap: 12px">
                        <div style="width: 40px; height: 40px; background: #CC092F; border-radius: 12px; display: flex; justify-content: center; align-items: center; color: white">B</div>
                        <h5 style="color: white">Bradesco</h5>
                    </div>
                </div>
                <div class="bank-card" onclick="startSync('Santander', '#EC0000')">
                    <div style="display: flex; align-items: center; gap: 12px">
                        <div style="width: 40px; height: 40px; background: #EC0000; border-radius: 12px; display: flex; justify-content: center; align-items: center; color: white">S</div>
                        <h5 style="color: white">Santander</h5>
                    </div>
                </div>
                <div id="sync-ui" style="display: none; text-align: center; padding: 20px;">
                    <div class="loading-spinner"></div>
                    <p id="sync-status-text" style="color: white">Sincronizando...</p>
                </div>
                <button onclick="closeModals()" style="width: 100%; background: transparent; color: var(--text-dim); border: none; margin-top: 16px">Cancelar</button>
            `;
            modal.classList.add('active');
        }

        function startSync(name, color) {
            document.querySelectorAll('.bank-card').forEach(c => c.style.display = 'none');
            document.getElementById('sync-ui').style.display = 'block';
            document.getElementById('sync-status-text').innerText = 'Autenticando no ' + name + '...';

            setTimeout(() => {
                addNewBank(name, color);
                closeModals();
                switchTab('wallet', document.querySelectorAll('.nav-item')[2]);
            }, 2500);
        }

        function addNewBank(name, color) {
            const container = document.getElementById('bank-list');
            const newCard = document.createElement('div');
            newCard.className = 'bank-card';
            newCard.onclick = () => showConsent(name);
            newCard.innerHTML = `
                <div style="display: flex; align-items: center; gap: 12px">
                    <div style="width: 40px; height: 40px; background: ${color}; border-radius: 12px; display: flex; justify-content: center; align-items: center; color: white">${name[0]}</div>
                    <div><h5 style="color: white">${name}</h5><span style="color: var(--accent); font-size: 10px">Conectado ‚Ä¢ Agora</span></div>
                </div>
                <div style="text-align: right"><div style="color: white; font-weight: 600">R$ 2.150,00</div><i data-lucide="chevron-right" style="color: var(--text-dim); width: 14px"></i></div>
            `;
            container.appendChild(newCard);
            lucide.createIcons();

            // Fix: ID Mismatch bug fix (val-balance was being called main-balance in logic)
            const balanceEl = document.getElementById('val-balance');
            balanceEl.innerText = 'R$ 14.600,80';
            balanceEl.style.color = 'var(--accent)';
            setTimeout(() => balanceEl.style.color = 'white', 1500);
        }
    </script>
</body>

</html>